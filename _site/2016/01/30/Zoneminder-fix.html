<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->

<head>
    <title>
   
   zmNinja data consumption in the background
   
    </title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">  
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,300italic,400italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'> 
    <!-- Global CSS -->
    <link rel="stylesheet" href="/public/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->    
    <link rel="stylesheet" href="/public/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="/public/plugins/prism/prism.css">
    <!-- Theme CSS -->  
   
    <link id="theme-style" rel="stylesheet" href="/public/css/animate.css">
    <link rel="alternate" type="application/rss+xml" title="My Site RSS" href="/feed.xml" />
    <link id="theme-style" rel="stylesheet" href="/public/css/styles-5.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- PP Google Analytics -->
    <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-74055172-1', 'auto');
	  ga('send', 'pageview');

    </script>
    
   
</head>



<body>
        <!-- ******HEADER****** --> 
    <header id="header" class="header">  
        <div class="container">            
            <h1 class="logo pull-left">
                <a href="http://pliablepixels.github.io/index.html#promo">
                    <span class="logo-title"><i class="fa fa-home"></i></span>
                </a>
            </h1><!--//logo-->              
            <nav id="main-nav" class="main-nav navbar-right" role="navigation">
                <div class="navbar-header">
                    <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button><!--//nav-toggle-->
                </div><!--//navbar-header-->            
                <div class="navbar-collapse collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="active nav-item sr-only"><a  href="http://pliablepixels.github.io/index.html#promo">Home</a></li>
                        <li class="nav-item"><a  href="http://pliablepixels.github.io/index.html#about">About</a></li>
                        
                        <li class="nav-item"><a  href="/blog">Blog</a></li>
                        
                        <li class="nav-item"><a  href="http://pliablepixels.github.io/index.html#demo">Demo</a></li>
                        <li class="nav-item"><a  href="http://pliablepixels.github.io/index.html#features">Features</a></li>
                        <li class="nav-item"><a  href="http://pliablepixels.github.io/index.html#license">License/Donate</a></li>                        
                        <li class="nav-item last"><a  href="http://pliablepixels.github.io/index.html#contact">Contact</a></li>
                    </ul><!--//nav-->
                </div><!--//navabr-collapse-->
            </nav><!--//main-nav-->
        </div>
    </header><!--//header-->


    <h2 style="padding-top:100px" class="title text-center"><a href="/blog">zmNinja blog</a></h2>


    <div class="container">



        <div class="row">


            <div class="col-md-8">

                <section id="blog" class="blog">
                    <div class="blog-inner">

                        <h3 class="title text-left">zmNinja data consumption in the background</h3>
                        <div class="text-left">
                            <span class="date"><b>30 January 2016</b></span>
                        </div>
                        <br/>

                        <div class="text-left">
                            <p>Hi there, for those of you who have noticed that zmNinja consumes a lot of data in the background, the problem has been fixed.
This is primarily a problem for Android users and not iOS (as iOS freezes the app when it goes to background)</p>

<p><strong>Summary:</strong> You need to upgrade Zoneminder to 1.29. I submitted a fix to Zoneminder on Jan 29, 2016 which was merged. You can read more about the real problem and the fix <a href="https://github.com/ZoneMinder/ZoneMinder/issues/1253">here</a></p>

<p><strong>Longer Explanation:</strong></p>

<p>ZoneMinder streams jpeg images continuously when zms is used over a TCP connection. zmNinja (and any other similar web app) that uses <code>img src</code> to display images has no control on the TCP object below it. So even if zmNinja deletes the view, Chrome continues to keep the object open and keeps receiving data. zms therefore does not stop streaming because the connection is still on. This is specifically a problem with how Chrome treats these connections (Read <a href="https://code.google.com/p/chromium/issues/detail?id=309641&quot;">this</a>.)</p>

<p>So what would happen is zmNinja would continue to build up these objects over time. To work around this, I had to resort to <code>window.stop()</code> that terminates <em>all</em> connections - not a good idea. So finally, I decided to fix the problem at the server end by adding a command where zmNinja could request zms to quit. Problem solved.</p>

<p><strong>What it means to  you:</strong></p>

<p>If you donâ€™t have this patch applied, please make sure zmNinja is setup to exit on background (its in Developer Settings). And please plan on updating ZM.</p>

                        </div>
                    </div>
                </section>
                
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = /2016/01/30/Zoneminder-fix.html;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = "zmNinja/2016/01/30/Zoneminder-fix.html";
    };
    */
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');
        
        s.src = '//pliablepixels.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



            </div>


            <div class="col-md-4">
                <h4>Archives</h4>


                <ul>
                    
                    <li>
                        <a href="/2016/03/07/Montage-Awesomeness.html">Montage Awesomness</a> - 07 March 2016
                    </li>
                    
                    <li>
                        <a href="/2016/02/26/events-via-zms.html">New feature- events via ZMS - smoother playback</a> - 26 February 2016
                    </li>
                    
                    <li>
                        <a href="/2016/02/22/Desktop-and-free.html">A note about the Desktop clients</a> - 22 February 2016
                    </li>
                    
                    <li>
                        <a href="/2016/02/05/Important-updates-to-ZoneMinder.html">Critical updates to ZoneMinder</a> - 05 February 2016
                    </li>
                    
                    <li>
                        <a href="/2016/01/30/Zoneminder-fix.html">zmNinja data consumption in the background</a> - 30 January 2016
                    </li>
                    
                    <li>
                        <a href="/2016/01/22/Hello-world.html">Hello world</a> - 22 January 2016
                    </li>
                    
                </ul>


            </div>


        </div>
    </div>


        <!-- ******FOOTER****** --> 
    <footer class="footer">
        <div class="container text-center">
            <small class="copyright">Designed with <i class="fa fa-heart"></i> by <a href="http://themes.3rdwavemedia.com" target="_blank">Xiaoying Riley</a>, modified by PliablePixels</small>
        </div><!--//container-->
    </footer><!--//footer-->
     
    <!-- Javascript -->          
    <script type="text/javascript" src="/public/plugins/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="/public/plugins/jquery-migrate-1.2.1.min.js"></script>    
    <script type="text/javascript" src="/public/plugins/jquery.easing.1.3.js"></script>   
    <script type="text/javascript" src="/public/plugins/bootstrap/js/bootstrap.min.js"></script>     
    <script type="text/javascript" src="/public/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script> 
    <script type="text/javascript" src="/public/plugins/prism/prism.js"></script>    
    <script type="text/javascript" src="/public/js/main.js"></script>       



</body>

</html>
